(self.webpackChunkAuth=self.webpackChunkAuth||[]).push([[776],{776:(e,t,n)=>{"use strict";n.r(t),n.d(t,{auth:()=>l});var r=n(503),i=(n(397),n(261)),a=n(862);const s=e=>{const t=document.createElement("aside"),n=e?{title:"Регистрация",forwarding:"Уже есть аккаун?",register:!0}:{title:"Вход",forwarding:"Создать аккаунт"};return t.innerHTML=`\n    <aside class="text-center form-signin">\n      <form class="sin-in-form">\n        <h3 class="h3 mb-3 fw-normal">${n.title}</h3>\n        ${n.register?'\n          <label for="inputName" class="invisible sr-only">Имя</label>\n          <input type="text" id="inputName" class="form-control" placeholder="Имя" required autofocus>\n        ':""}\n        <label for="inputEmail" class="invisible sr-only">Email</label>\n        <input type="email" id="inputEmail" class="form-control" placeholder="Email" required autofocus>\n        <label for="inputPassword" class="invisible sr-only">Password</label>\n        <input type="password" id="inputPassword" class="form-control" placeholder="Password" required>\n        <button class="w-100 btn btn-lg btn-primary btn-auth" type="submit">Войти</button>\n        <a href="#" class="forwarding-link">${n.forwarding}</a>\n      </form>\n    </aside>\n    `,{node:t}},l=()=>{let e="#register"===(0,i.AE)();(0,i.AC)(s(e));let t=document.querySelector(".sin-in-form");const n=s=>{s.preventDefault(),(async(e,t,n,s)=>{try{if(s){const i=(await r.Z.auth().createUserWithEmailAndPassword(e,t)).user;return await i.updateProfile({photoURL:"https://via.placeholder.com/150",displayName:n||"user"}),await(0,a.Nq)(i,n,"https://via.placeholder.com/150","Нет информации"),void window.location.reload()}await r.Z.auth().signInWithEmailAndPassword(e,t),(0,i.l6)("/")}catch(e){console.error(e)}})(document.querySelector("#inputEmail").value,document.querySelector("#inputPassword").value,document.querySelector("#inputName")?.value||{value:""},e).then((()=>{t.removeEventListener("submit",n),(0,i.ZF)(".form-signin")}))};document.body.addEventListener("click",(r=>{r.target.closest(".forwarding-link")&&(r.preventDefault(),t.removeEventListener("submit",n),(0,i.ZF)(".form-signin"),e=!e,(0,i.l6)(e?"#register":"#login"),(0,i.AC)(s(e)),t=document.querySelector(".sin-in-form"),t.addEventListener("submit",n))})),t.addEventListener("submit",n)}}}]);
//# sourceMappingURL=bundle.3a4b6e86f34959d33416.js.map